<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Afacad:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Josefin+Sans:ital,wght@0,100..700;1,100..700&display=swap"
      rel="stylesheet"
    />
    <title>Nur Elisya</title>
  </head>
  <body>
    <section class="container">
      <section id="root">
        <div class="initial fade-in">
          <h1>Happy Birthday Nur Elisya</h1>
          <button id="button_start" class="button">Start</button>
        </div>
        <div id="magic">
          <button class="button">See the magic</button>
        </div>
      </section>
      <section id="imgRoot"></section>

      <div class="message">
        <h1>Happy Birthday My Beloved</h1>
        <br>
        <h1>Nur Elisya</h1>
        <br>
        <p>From your future husband <br> <br>(Bima Febriansyah)</p>
      </div>

      <section class="not-loaded" id="flower">
        <div class="night"></div>
        <div class="flowers">
          <div class="flower flower--1">
            <div class="flower__leafs flower__leafs--1">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>

              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
              <div class="flower__line__leaf flower__line__leaf--5"></div>
              <div class="flower__line__leaf flower__line__leaf--6"></div>
            </div>
          </div>

          <div class="flower flower--2">
            <div class="flower__leafs flower__leafs--2">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>

              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
          </div>

          <div class="flower flower--3">
            <div class="flower__leafs flower__leafs--3">
              <div class="flower__leaf flower__leaf--1"></div>
              <div class="flower__leaf flower__leaf--2"></div>
              <div class="flower__leaf flower__leaf--3"></div>
              <div class="flower__leaf flower__leaf--4"></div>
              <div class="flower__white-circle"></div>

              <div class="flower__light flower__light--1"></div>
              <div class="flower__light flower__light--2"></div>
              <div class="flower__light flower__light--3"></div>
              <div class="flower__light flower__light--4"></div>
              <div class="flower__light flower__light--5"></div>
              <div class="flower__light flower__light--6"></div>
              <div class="flower__light flower__light--7"></div>
              <div class="flower__light flower__light--8"></div>
            </div>
            <div class="flower__line">
              <div class="flower__line__leaf flower__line__leaf--1"></div>
              <div class="flower__line__leaf flower__line__leaf--2"></div>
              <div class="flower__line__leaf flower__line__leaf--3"></div>
              <div class="flower__line__leaf flower__line__leaf--4"></div>
            </div>
          </div>

          <div class="grow-ans" style="--d: 1.2s">
            <div class="flower__g-long">
              <div class="flower__g-long__top"></div>
              <div class="flower__g-long__bottom"></div>
            </div>
          </div>

          <div class="growing-grass">
            <div class="flower__grass flower__grass--1">
              <div class="flower__grass--top"></div>
              <div class="flower__grass--bottom"></div>
              <div class="flower__grass__leaf flower__grass__leaf--1"></div>
              <div class="flower__grass__leaf flower__grass__leaf--2"></div>
              <div class="flower__grass__leaf flower__grass__leaf--3"></div>
              <div class="flower__grass__leaf flower__grass__leaf--4"></div>
              <div class="flower__grass__leaf flower__grass__leaf--5"></div>
              <div class="flower__grass__leaf flower__grass__leaf--6"></div>
              <div class="flower__grass__leaf flower__grass__leaf--7"></div>
              <div class="flower__grass__leaf flower__grass__leaf--8"></div>
              <div class="flower__grass__overlay"></div>
            </div>
          </div>

          <div class="growing-grass">
            <div class="flower__grass flower__grass--2">
              <div class="flower__grass--top"></div>
              <div class="flower__grass--bottom"></div>
              <div class="flower__grass__leaf flower__grass__leaf--1"></div>
              <div class="flower__grass__leaf flower__grass__leaf--2"></div>
              <div class="flower__grass__leaf flower__grass__leaf--3"></div>
              <div class="flower__grass__leaf flower__grass__leaf--4"></div>
              <div class="flower__grass__leaf flower__grass__leaf--5"></div>
              <div class="flower__grass__leaf flower__grass__leaf--6"></div>
              <div class="flower__grass__leaf flower__grass__leaf--7"></div>
              <div class="flower__grass__leaf flower__grass__leaf--8"></div>
              <div class="flower__grass__overlay"></div>
            </div>
          </div>

          <div class="grow-ans" style="--d: 2.4s">
            <div class="flower__g-right flower__g-right--1">
              <div class="leaf"></div>
            </div>
          </div>

          <div class="grow-ans" style="--d: 2.8s">
            <div class="flower__g-right flower__g-right--2">
              <div class="leaf"></div>
            </div>
          </div>

          <div class="grow-ans" style="--d: 2.8s">
            <div class="flower__g-front">
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--1"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--2"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--3"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--4"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--5"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--6"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--7"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div
                class="flower__g-front__leaf-wrapper flower__g-front__leaf-wrapper--8"
              >
                <div class="flower__g-front__leaf"></div>
              </div>
              <div class="flower__g-front__line"></div>
            </div>
          </div>

          <div class="grow-ans" style="--d: 3.2s">
            <div class="flower__g-fr">
              <div class="leaf"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--1"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--2"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--3"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--4"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--5"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--6"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--7"></div>
              <div class="flower__g-fr__leaf flower__g-fr__leaf--8"></div>
            </div>
          </div>

          <div class="long-g long-g--0">
            <div class="grow-ans" style="--d: 3s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 2.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 3.4s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--1">
            <div class="grow-ans" style="--d: 3.6s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 3.8s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 4s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 4.2s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--2">
            <div class="grow-ans" style="--d: 4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 4.4s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 4.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--3">
            <div class="grow-ans" style="--d: 4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 3s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--4">
            <div class="grow-ans" style="--d: 4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 3s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--5">
            <div class="grow-ans" style="--d: 4s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 4.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 3s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--6">
            <div class="grow-ans" style="--d: 4.2s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 4.4s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 4.6s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 4.8s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>

          <div class="long-g long-g--7">
            <div class="grow-ans" style="--d: 3s">
              <div class="leaf leaf--0"></div>
            </div>
            <div class="grow-ans" style="--d: 3.2s">
              <div class="leaf leaf--1"></div>
            </div>
            <div class="grow-ans" style="--d: 3.5s">
              <div class="leaf leaf--2"></div>
            </div>
            <div class="grow-ans" style="--d: 3.6s">
              <div class="leaf leaf--3"></div>
            </div>
          </div>
        </div>
      </section>
    </section>
  </body>
  <script
    src="https://code.jquery.com/jquery-3.7.1.min.js"
    integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
    crossorigin="anonymous"
  ></script>
  <script>
    const lyrics = [
      {
        text: '.',
        time: 2000,
      },
      {
        text: '. .',
        time: 5000,
      },
      {
        text: '. . .',
        time: 5000,
      },
      {
        text: 'Hari ini hari ulang tahun mu',
        time: 6000,
      },
      {
        text: 'Bertambah satu tahun usia mu',
        time: 6000,
      },
      {
        text: 'Ku do’akan bahagia selalu untuk mu',
        time: 7000,
      },
      {
        text: 'Tercapai segala cita cita mu',
        time: 6000,
      },
      //Reff
      {
        text: 'Selamat ulang tahun',
        time: 3000,
      },
      {
        text: 'Ku ucapkan untuk mu',
        time: 3000,
      },
      {
        text: 'Semoga bahagiakan mengiringi langkah mu',
        time: 6000,
      },
      {
        text: 'Tiada yang bisaku beri',
        time: 3000,
      },
      {
        text: 'Hanyalah do’a dan rasa cinta',
        time: 3000,
      },
      {
        text: 'Yang tulus dari ku tuk dirimu',
        time: 6000,
      },
      {
        text: '...',
        time: 18000,
      },
      {
        text: 'Selamat ulang tahun',
        time: 3000,
      },
      {
        text: 'Ku ucapkan untuk mu',
        time: 3000,
      },
      {
        text: 'Semoga bahagiakan mengiringi langkah mu',
        time: 6000,
      },
      {
        text: 'Tiada yang bisaku beri',
        time: 3000,
      },
      {
        text: 'Hanyalah do’a dan rasa cinta',
        time: 3000,
      },
      {
        text: 'Yang tulus dari ku tuk dirimu',
        time: 6000,
      },
      {
        text: '',
        time: 3000,
      },
      {
        text: 'Hanyalah do’a dan cinta',
        time: 3000,
      },
      {
        text: 'Tuk dirimu',
        time: 6000,
      },
    ]

    const images = [
      {
        img: 'img/img-1.webp',
        time: 16250,
      },
      {
        img: 'img/img-2.webp',
        time: 16250,
      },
      {
        img: 'img/img-3.webp',
        time: 16250,
      },
      {
        img: 'img/img-4.webp',
        time: 16250,
      },
      {
        img: 'img/img-5.webp',
        time: 16250,
      },
      {
        img: 'img/img-6.webp',
        time: 16250,
      },
      {
        img: 'img/img-7.webp',
        time: 16250,
      },
      {
        img: 'img/img-8.webp',
        time: 16250,
      },
    ]

    $('#button_start').on('click', function () {
      const audioElement = document.createElement('audio')
      audioElement.setAttribute('src', 'music.mp4')
      audioElement.play()

      $('.initial').removeClass('fade-in').addClass('fade-out')

      const root = $('#root')

      const showLyric = (index) => {
        if (index >= lyrics.length) return

        const id = `lyric-${index}`
        const lyric = lyrics[index]

        const lyricItem = `<div class="lyric fade-in" id="${id}">${lyric.text}</div>`

        root.append(lyricItem)

        setTimeout(() => {
          $(`#${id}`).removeClass('fade-in').addClass('fade-out')

          setTimeout(() => {
            $(`#${id}`).remove()
            showLyric(index + 1)
          }, 900)
        }, lyric.time)
      }

      const imgRoot = $('#imgRoot')

      const showImage = (index) => {
        if (index >= lyrics.length) return

        const id = `image-${index}`
        const image = images[index]

        const imageItem = `<img class="image fade-in" id="${id}" src="${image.img}"></img>`

        imgRoot.append(imageItem)

        setTimeout(() => {
          $(`#${id}`).removeClass('fade-in').addClass('fade-out')

          setTimeout(() => {
            $(`#${id}`).remove()
            showImage(index + 1)
          }, 900)
        }, image.time)
      }

      setTimeout(() => {
        $('.initial').remove()
        imgRoot.css('display', 'block')
        showLyric(0)
        showImage(0)
      }, 3000)

      setTimeout(() => {
        imgRoot.css('display', 'none')
        $('#magic').css('display', 'flex')
        $('#magic').addClass('fade-in')
      }, 146000)
    })

    $('#magic').on('click', function () {
      $('#magic').removeClass('fade-in').addClass('fade-out')
      setTimeout(() => {
        $('#magic').css('display', 'none')
        $('#flower').css('display', 'flex')
        $('#flower').addClass('fade-in-1')
        $('#flower').removeClass('not-loaded')
        
      }, 1000)

      setTimeout(()=>{
        $('.message').css('display', 'block')
        $('.message').addClass('fade-in-1')
      }, 1500)
    })
  </script>
</html>
